pre-commit:
  parallel: true
  commands:
    - name: fmt
      run: cargo fmt --check
    - name: clippy
      run: cargo clippy -- -D warnings
    - name: test
      run: cargo test
    - name: typos
      run: astrape typos

post-commit:
  parallel: false
  commands:
    - name: auto-push
      run: git push origin HEAD
